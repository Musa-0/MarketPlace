<h1>REST API MarketPlace</h1>

<p>Инструкцию по запуску данного приложения вы сможете найти в файле MANUAL.md</p>

<h2>Объекты приложения</h2>
<ol>
    <li><h4>Аккаунт</h4></li>
        <ul>
            <li>Пользуясь данным приложением, клиент должен зарегестрироваться</li> 
            <li>Аккаунт состоит из:</li>
                <ul>
                    <li>Email</li>
                    <li>Никнейм</li>
                    <li>Пароль</li>
                    <li>Баланс</li>
                </ul>
            <li>Есть две роли: Администратор и Юзер</li>
        </ul>
    <li><h4>Организация</h4></li>
            <ul>
                <li>Организация - это сущность, которую может создать пользователь для выставления своего товара и его дальнейшей продажи, а так же получения прибыли</li>
                <li>После создания аккаунта, пользователь может создать организацию. Для организации необходимо:</li>
                    <ul>
                        <li>Название</li>
                        <li>Логотип</li>
                        <li>Описание</li>
                    </ul>
                <li>После создания организации необходимо дождаться, когда админ одобрит её и лишь в случае одобрения, пользователь сможет выставлять свои товары на продажу</li>
            </ul>
    <li><h4>Товар</h4></li>
        <ul>
            <li>Товар может выставить пользователь обладающий активной организацией</li>
            <li>Товар состоит из:</li>
                <ul>
                    <li>Название</li>
                    <li>Описание</li>
                    <li>Организация</li>
                    <li>Колличество</li>
                    <li>Несколько изображений</li>
                    <li>Цена</li>
                    <li>Оценка</li>
                </ul>
        </ul>
    <li><h4>Скидки</h4></li>
        <ul>
            <li>Пользователь, может устанавливать скидки на свои товары</li>
            <li>Скидка состоит из:</li>
                <ul>
                    <li>Размер скидки</li>
                    <li>Срок действия</li>
                </ul>
        </ul>
</ol>

<h2>Функционал магазина</h2>
В магазине рабоают следующие правила:
- Функционал админа расширяет весь упомянутый функционал пользователя;
- Админ может добавлять и изменять любую информацию о товарах в магазине;
- Для товара админ может добавлять и изменять скидки;
- Для того чтобы воспользоваться магазином, пользователь должен быть зарегестрированным и войти в учетную запись, но к каталогу товаров доступ открыт всем;
- Пользователь может покупать товары и ставить оценки;
- Каждая покупка сохраняется в истории покупок;
- Пользователь может просмотреть свою историю покупок;
- Админ может просмотреть историю покупок любого пользователя;
- Пользователь может совершить возврат в течении суток с момента покупки;
- Пользователь не может оценить товар, не купив его;
- Админ может пополнять баланс пользователя;
- Админ может просматривать информацию о пользователях, удалять и замораживать их аккаунты;
- Админ может отправлять пользователям уведомления;
- Пользователь может подать заявку на регистрацию организации;
- Организация дает возможность ее создателю добавлять товары и продавать их в данном магазине;
- Так как заявка на регистрацию организации добавляется авторизованным пользователем, то получателем выручки является данный пользователь;
- Выручку с покупки товаров, принадлежащих организации, за вычетом комиссии, получает организация. Комиссия 5% уходит магазину;
- Админ вправе принимать заявки на регистрацию организации, замораживать и удалять активные организации;
- Если организация заморожена или удалена, пользователи не видят товары в списке доступных, однако, у купленных товаров сохраняется информация об организации. Т.е. даже об удаленных, а точнее забаненных организациях информация должна оставаться.

<h2>Принципы работы сайта</h2>
- Сайт работает через json объекты, дан доступ CORS для использования js на фронтенде, для работы с api
- любой запрос проходит цепочку проверок выделенную в отдыльный модуль requestChecker, который очень точно описывает проблемы в запросах клиента, выводя ошибку не в виде статуса ответа, а в виде понятного текста
- вся история покупок пользователей, в сериализованных объектах, который записываются в файлы, дабы не перегружать бд
- В сайте присутствует Aop которое внимательно следит за покупками клиентов, дабы не было никаких багов (например, срок действия скидки истек, а оплата прошла как со скидкой)

<h3>В дальнейшем планируется интеграция фронтенд части, полностью работающее через на js через api</h3>